env:
   global:
     - NDK_VERSION=r10e

language: android

sudo: false

jdk: oraclejdk8

android:
  components:
    - build-tools-19.0.1
    - android-23
    - sys-img-armeabi-v7a-android-23
    - extra-android-m2repository

before_install:
    - wget http://dl.google.com/android/ndk/android-ndk-$NDK_VERSION-linux-x86_64.bin
    - chmod +x android-ndk-$NDK_VERSION-linux-x86_64.bin
    - ./android-ndk-$NDK_VERSION-linux-x86_64.bin | egrep -v ^Extracting
    - export ANDROID_NDK_HOME=`pwd`/android-ndk-$NDK_VERSION
    - export PATH=${PATH}:${ANDROID_NDK_HOME}   
 
script:
    - cd DataApi
    - TERM=dumb ./gradlew build --info
    - android list targets
    - echo no | android create avd --force -n test -t android-23 --abi armeabi-v7a
    - emulator -avd test -no-skin -no-audio -no-window &
